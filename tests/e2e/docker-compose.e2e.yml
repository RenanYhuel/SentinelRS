version: "3.8"

services:
    nats:
        image: nats:2.9.4
        command: ["--jetstream", "--store_dir=/data", "-m", "8222"]
        ports:
            - "14222:4222"
            - "18222:8222"
        tmpfs:
            - /data

    timescaledb:
        image: timescale/timescaledb:latest-pg14
        environment:
            POSTGRES_USER: postgres
            POSTGRES_PASSWORD: postgres
            POSTGRES_DB: sentinel_e2e
        ports:
            - "15432:5432"
        tmpfs:
            - /var/lib/postgresql/data
